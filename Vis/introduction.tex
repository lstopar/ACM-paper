The visualization of multi-variate time-series is a challenging task. Often, systems are observed through one-dimensional measurements graphed over time. Modern systems often have many different sensors which 
typically operate in approximate cycles over time. Typical examples include weather systems (e.g. the seasons), manufacturing systems and power consumption. 

We present a system for analyzing and visualizing multi-variate time series with minimal prior knowledge of the underlying time series. One of the key features of our system is that it allows for a \emph{multi-scale} analysis of the underlying system allowing the user to interactively find suitable scales to interpret the multivariate data in a qualitative representation.  

Intuitively, the system help users detect states of behaviors which map to conceptual concepts of the system. For example, in the case of weather, a ``summer'' state may include higher average temperatures or less than average rainfall, while a ``winter" state would have more rainfall. 

This representation is built using a three step methodology. In the first
step, we capture the structure of the data by employing unsupervised machine learning
techniques to identify the systems' most typical states. The second step captures
dynamics by modeling transitions between these states using a Markov chain framework.
The third and final step constructs a hierarchical representation by aggregating
states and transitions. Each level of the hierarchy is then associated with a unique
scale or detail level.

Overall, this system gives the user a hierarchical view of the dynamics as well as 
allow for analysis of the system. After the initial model is built, we visualize the model
in a web-based user interface, (Figure~\ref{fig:teaser}) \lstopar{[TODO teaser not referenced!]}, allowing the 
user to zoom between scales interactively. To help users identify the
meaning of states and transitions, the system provides several several automatic assistance services,
including automatic state labeling, rule extraction, attribute highlighting which
identify \emph{differences in states}, as well as several tools to help visualize an individual states'
structure. 

The system also provides additional services based on the Markov chain model. It can map online streaming data onto 
the model in real-time and issue alerts and messages based on parameters set in the interface. This can be useful in several scenarios we describe in the paper.

Our technical contributions are
\begin{enumerate}{}
  \item A novel methodology for modeling and visualizing multivariate time-varying data streams. This approach is able to capture multiscale behaviour by building a hierarchical model of the system
  \item We use Markov chains to visualize the dynamics of a system and propose an algorithm for constructing hierarchies of recurrent continuous time Markov chains, which preserves stationary distributions and has not appeared in the literature. We also design our method to preserve as much of the dynamics as possible throughout the hierarchy.
  \item Building on these ideas, we develop an interactive system which incorporates many different features to help analyze and understand complex systems through our visualization tool.
  \item This system also provides functionality to process online streaming data and provide a user with  alert and messages on identified behaviours in the system.  
\end{enumerate}

The paper is structured as follows. Section \ref{sec:previous} provides and overview
of visualization tools used for data exploration and the state-of-the-art in using Markov chains for modelling dynamic systems.
Section \ref{sec:preliminaries} introduces the concepts and notations used throughout the paper and 
in sections \ref{sec:multiscale-framework} and \ref{sec:multiscale-implementation}, we present
our multi-scale methodology and the details of its implementation. We then present some of the 
features of our user interface in Section \ref{sec:ui}. We then show experiments conducted on real-world datasets in Section \ref{sec:experiments} and conclude with a discussion and further work in Section \ref{sec:discussion}.

\begin{comment}
These 
systems include, for example, the solar system, manufacturing systems or weather 
systems. Such systems can be characterized by a set of states, along with associated
state transitions. States, on a high level, may include a ``sunny" state and a ``rainy"
state or maybe states with high and low productivity. For example, when a pilot wishes
to change an aircrafts heading, they will put the aircraft into state ``banking turn"
by lowering one aileron and raising the other, causing the aircraft to perform a
circular arc. After some time, the wings of the aircraft will be brought level by
an opposing motion of the ailerons and the aircraft will go back into state "level".

Such high-level states can be decomposed into lower-level states, giving us a 
multi-scale view of the system and allowing us to observe the system on multiple 
\lstopar{detail levels}. For example, a "banking turn" state can be decomposed by the
aircrafts roll and angular velocity, resulting in perhaps three states: "initiate
turn", "full turn" and "end turn".

In this paper we present a methodology for modeling and visualization of such systems and demonstrate its implementation
called StreamStory. StreamStory is a tool for summarizing multivariate continuously
time-varying data streams in a qualitative manner on multiple scales, by representing the system with 
its most typical states and their associated transitions and aggregating them to obtain
a hierarchical representation.

To achieve such a representation, we propose a three step methodology. In the first
step we capture the structure of the data by employing unsupervised machine learning
techniques to identify the systems' most typical states. The second step captures
dynamics by modeling transitions between these states using a Markov chain framework.
The third and final step constructs a hierarchical representation by aggregating
states and transitions. Each level of the hierarchy is then associated with a unique
scale or detail level.

We visualize this hierarchical model in a web-based user interface, shown in \lstopar{Figure} \ref{fig:teaser}.
The user interface is designed to show the model on a single scale and allows users
to switch scales using the zoom function. To assist users in identifying the
meaning of states and transitions we developed several automatic assistance services,
from automatic state labeling, rule extraction and attribute highlighting which
identify \lstopar{differences in states}, to various histograms that show the states'
structure.



\iffalse
\lstopar{a to obdrzimo? Furthermore, we divide the inputs streams into two sets: observation and control set.
Attributes in the observation set are the attributes that tell us the state of the 
system and, we assume, cannot directly influence its dynamics. These are parameters
that users cannot directly manipulate, like aircraft tilt from the previous example,
which must be indirectly manipulated through the angles of ailerons. We use observation
attributes to identify, and aggregate, low-level states, detect outliers (anomalies) 
and determine the current state of the system.}
\fi

\iffalse
In contrast, users can directly manipulate attributes in the control set. These 
are attributes like angles of ailerons that may directly influence the behavior 
(observation attributes) and performance of the system. For example, when an operator 
in a steel factory sets the cooling temperature to a high value, the product will
take longer to go from state "hot" to state "cool". As such, we assume, control attributes
may influence the occurrence, and expected time, of undesired states, associated with
undesired events.
\fi

\iffalse
Our system uses control attributes to model state transitions, allowing us to observe
the dynamics with respect to the current configuration and gives us insight into the
expected dynamics with respect to some alternate attribute configuration.
\fi

\lstopar{The main research contributions presented in this paper can be summarized as follows:
\begin{enumerate}{}
  \item We present a novel methodology for modeling multivariate continuously time-varying data streams
  in a hierarchical manner providing a unique model of the several detail levels.
  \item We present a novel approach for modeling state transitions in a Markov chain allowing
  to observe the dynamics of the chain under alternate configurations.
  \item We propose a recursive algorithm for partitioning recurrent continuous time Markov chains.
  \item \lstopar{Exploratory Data Analysis Tool}
\end{enumerate}
}

The remainder of this paper is structured as follows. Section \ref{sec:previous} provides and overview
of visualization tools used for data exploration and the state-of-the-art in Markov chain research.
Sections \ref{sec:preliminaries} introduces the concepts and notations used throughout the paper.
In sections \ref{sec:multiscale-framework} and \ref{sec:multiscale-implementation} we present
our multi-scale methodology and the details of its implementation. We then present some of the 
features of our user interface in Section \ref{sec:ui} and some implementation details in Section
\ref{sec:implementation}. We then show experiments conducted on real-world datasets in Section \ref{sec:experiments}
and \lstopar{provide a discussion with some general thoughts on further work} in Section \ref{sec:discussion}.

\end{comment}